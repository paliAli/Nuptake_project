load("~/GitHub/Nuptake_project/workspace(2).RData")
View(mean_Nuptake)
Nuptake_plot <- ggplot(mean_Nuptake, aes(date, mean_Nuptake, shape = factor(material), color = factor(material))) +
geom_line(linewidth = 1) +
geom_point(size = 4)+
ggtitle("Nitrogen uptake time series") +
xlab("date") +
ylab("N uptake (g/m2)")+
theme_minimal()+
scale_color_manual(values = index_colors, labels = index_labels) +
scale_x_date(date_labels = "%b/%Y", date_breaks = "2 months") +
theme(axis.text.x = element_text(size = 11, angle = 35),
axis.title.x = element_text(margin = margin(t = 20), size = 15),
plot.title = element_text (margin = margin (b = 20), size = 20))+
scale_shape_manual(values = c(16, 17)) +
scale_color_manual(values = c("green3", "gold3")) +
guides(shape = guide_legend(title = "Biomass type",
keywidth = 1.5),
color = guide_legend(title = "Biomass type",))
Nuptake_plot
mean_Nuptake <- nitrogen_uptake %>%
group_by(date) %>%
summarize(`dry-tara` = mean(`dry-tara`), `%N corr.` = mean(`%N corr.`), mean_Nuptake = mean(Nitrogen_uptake_gperm2), material = first(Material))
library(dplyr)
library(ggplot2)
library(ggthemes)
nitrogen_uptake <- merged_data %>%
dplyr::select (`date`,  `dry-tara`, `%N corr.`, `quadrant (Q)`, sample, Material)%>%
#the dry biomass weight is now in g/0.1m2 so I need to multiply by 10 to get g/m2
mutate (Nitrogen_uptake_gperm2 = (`dry-tara` * 10) * (`%N corr.` / 100))%>%
mutate (Nitrogen_uptake_kgperha = (`dry-tara` * 100) * (`%N corr.` / 100))
# Remove NAs (will keep some NAs in quadrant column because earlier samples werent divided in quadrants but harvest spots)
nitrogen_uptake <- nitrogen_uptake[!is.na(nitrogen_uptake$`%N corr.`), ]
mean_Nuptake <- nitrogen_uptake %>%
group_by(date) %>%
summarize(`dry-tara` = mean(`dry-tara`), `%N corr.` = mean(`%N corr.`), mean_Nuptake = mean(Nitrogen_uptake_gperm2), material = first(Material))
mean_Nuptake <- mean_Nuptake %>%
mutate(material = recode(material, 'aboveground biomass' = 'winter wheat'),
material = recode(material, 'mix' = 'grass'))
Nuptake_plot <- ggplot(mean_Nuptake, aes(date, mean_Nuptake, shape = factor(material), color = factor(material))) +
geom_line(linewidth = 1) +
geom_point(size = 4)+
ggtitle("Nitrogen uptake time series") +
xlab("date") +
ylab("N uptake (g/m2)")+
theme_minimal()+
scale_color_manual(values = index_colors, labels = index_labels) +
scale_x_date(date_labels = "%b/%Y", date_breaks = "2 months") +
theme(axis.text.x = element_text(size = 11, angle = 35),
axis.title.x = element_text(margin = margin(t = 20), size = 15),
plot.title = element_text (margin = margin (b = 20), size = 20))+
scale_shape_manual(values = c(16, 17)) +
scale_color_manual(values = c("green3", "gold3")) +
guides(shape = guide_legend(title = "Biomass type",
keywidth = 1.5),
color = guide_legend(title = "Biomass type",))
Nuptake_plot
View(mean_Nuptake)
mean_Nuptake <- mean_Nuptake[which(mean_Nuptake$date <= "2023-07-15"),]
Nuptake_plot <- ggplot(mean_Nuptake, aes(date, mean_Nuptake, shape = factor(material), color = factor(material))) +
geom_line(linewidth = 1) +
geom_point(size = 4)+
ggtitle("Nitrogen uptake time series") +
xlab("date") +
ylab("N uptake (g/m2)")+
theme_minimal()+
scale_color_manual(values = index_colors, labels = index_labels) +
scale_x_date(date_labels = "%b/%Y", date_breaks = "2 months") +
theme(axis.text.x = element_text(size = 11, angle = 35),
axis.title.x = element_text(margin = margin(t = 20), size = 15),
plot.title = element_text (margin = margin (b = 20), size = 20))+
scale_shape_manual(values = c(16, 17)) +
scale_color_manual(values = c("green3", "gold3")) +
guides(shape = guide_legend(title = "Biomass type",
keywidth = 1.5),
color = guide_legend(title = "Biomass type",))
Nuptake_plot
